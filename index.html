<!DOCTYPE html>
<html lang="ru">
    <head>

        <meta                                       charset="UTF-8">
        <meta   http-equiv="Permissions-Policy"     content="interest-cohort=()">
        <meta   http-equiv="Cache-Control"          content="no-cache">
        <meta   http-equiv="Pragma"                 content="no-cache">
        <meta   name="viewport"                     content="width=device-width, initial-scale=1">
        <meta   name="author"                       content="Plutonny">
        <meta   name="description"                  content="my cat ❤️">
        <meta   name="theme-color" id="theme-color" content="#000000">
        <title  id="title-page"                     >my cat ❤️</title>
        <link   rel="manifest"                      href="manifest.json">

        <script type="text/javascript">
            function clgenld() { 
                let clengl = setInterval(function() {
                    try { 
                        document.getElementById('genload').remove()
                    } catch {}
                }, 1); 
            }
        </script>
        
        <!-- fonts and icons -->
        <style>
            @font-face {
                font-family: 'Material Symbols Rounded';
                font-style: normal;
                font-weight: 100 700;
                src: url(https://fonts.gstatic.com/s/materialsymbolsrounded/v74/sykg-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190Fjzag.woff2) format('woff2');
                }

                .material-symbols-rounded {
                font-family: 'Material Symbols Rounded';
                font-weight: normal;
                font-style: normal;
                font-size: 24px;
                line-height: 1;
                letter-spacing: normal;
                text-transform: none;
                display: inline-block;
                white-space: nowrap;
                word-wrap: normal;
                direction: ltr;
                -webkit-font-feature-settings: 'liga';
                -webkit-font-smoothing: antialiased;
                font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 26;
            }
        </style>
        <link   rel="preconnect"                    href="https://fonts.googleapis.com">
        <link   rel="preconnect"                    href="https://fonts.gstatic.com" crossorigin>
        <link   rel="stylesheet"                    href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap">
        <link   rel="preload prefetch"              href="https://fonts.gstatic.com/s/materialsymbolsrounded/v74/sykg-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190Fjzag.woff2" as="font" type="font/woff2" crossorigin onload="clgenld()">
        
        <!-- CSS and JS -->
        <script type="text/javascript"              src="https://lib.plutonny.ru/plutonny.js/v1.1.js?cache=18.05.2023-v300-b21"></script>
        <link   rel="preload prefetch stylesheet"   href="static/main.css?cache=18.05.2023-v300-b21" as="style">
        <link   rel="icon"                          href="static/g-icon.png?cache=18.05.2023-v300-b21">
        <link   rel="apple-touch-icon"              href="pwa-icon-apple.png?cache=18.05.2023-v300-b21">
        <style  id="theming"                        ></style>
        <style  id="animationEngine"                ></style>

        <!-- GLOBAL VARIABLES -->
        <script type="text/javascript">
            "use strict";
            
            var siteVersion = '3.0'
            var siteBuild = '21'

            var DATESTATIC = new Date()
            let DYNAMICTIME = new Date()
            var SEASON = ''
            let dec10 = new Date(DATESTATIC.getFullYear(), 11, 10), jan20 = new Date(DATESTATIC.getFullYear(), 0, 20, 23, 59, 59, 999), dec31 = new Date(DATESTATIC.getFullYear(), 11, 31, 23, 59, 59, 999), jan01 = new Date(DATESTATIC.getFullYear(), 0, 1)
            if ((dec10 <= DATESTATIC && DATESTATIC <= dec31) || (jan01 <= DATESTATIC && DATESTATIC <= jan20)) { SEASON = 'newyear' }
            else { if ([11, 0, 1].includes(DATESTATIC.getMonth())) SEASON = 'winter'; if ([2, 3, 4].includes(DATESTATIC.getMonth())) SEASON = 'spring'; if ([5, 6, 7].includes(DATESTATIC.getMonth())) SEASON = 'summer'; if ([8, 9, 10].includes(DATESTATIC.getMonth())) SEASON = 'autumn' }
        </script>

        <!-- UX -->
        <script type="text/javascript">
            var UX = {
                datePrepare: function(date) {
                    let d1, d2
                    if (date < DATESTATIC) { 
                        d1 = new Date(new Date(DATESTATIC.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds()))
                        d2 = new Date(new Date(DATESTATIC.getFullYear() + 1, date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds()))
                    } else {
                        d1 = new Date(new Date(DATESTATIC.getFullYear() - 1, date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds()))  
                        d2 = new Date(new Date(DATESTATIC.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds()))
                    } return [d1, d2]
                },
                dateThisYear: function(date, time) {
                    let cdd
                    try {
                        cdd = new Date(DATESTATIC.getFullYear(), date.split('-')[0] - 1, date.split('-')[1], time.split(':')[0], time.split(':')[1])
                    } catch {
                        cdd = new Date(DATESTATIC.getFullYear(), date.split('-')[0] - 1, date.split('-')[1], 0, 0, 0)
                    }
                    return cdd
                },
                theme: function() {
                    plutonny.output('theming', `
                    .page { 
                        background-attachment: fixed !important;
                        background: radial-gradient(71.06% 29.13% at 131.07% 70.87%, var(--UI-${SEASON}) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(87.62% 39.56% at -37.62% 39.56%, var(--UI-${SEASON}) 0%, rgba(0, 0, 0, 0) 100%), #000000;
                    }
                    `)
                    document.getElementById('theme-color').content = '#000000'
                },
                modal: async function(content) {
                    try {
                        await plutonny.sleep(200)
                        document.getElementById('theme-color').content = '#101010'
                        plutonny.output('modal', `
                            <div class="max-modal">
                                <style>
                                    div#modal { position: fixed; height: 100vh; width: 100vw; background-color :#40404040; display: flex; justify-content: center; align-items: center; z-index: 100; }
                                </style>
                                ${content}
                            </div>
                        `) 
                        return true
                    } catch (e) {
                        plutonny.console.error('index.html -> UX.modal()', e)
                        return false
                    }
                }
            }
            UX.theme()
        </script>

        <!-- UI -->
        <script type="text/javascript">
            var UI = {
                event: function(size, event, id) {
                    switch(size) {
                        case 'small':
                            return `<div style="display: flex; flex-direction: row; flex-wrap: nowrap; align-items: center;">
                                <div style="height: 36px; width: 36px;">
                                    ${plutonny.UI.gIcon({
                                        size: 36,
                                        border: 100,
                                        color: event.color,
                                        icon: event.icon,
                                        font: 24
                                    })}
                                </div>
                                <div style="width: 12px;"></div>
                                <p style="font-size: 15px; margin: 0;">${event.nameText} <small style="font-size: 12px; margin: 0;">(${COUNT.fastDay(DATESTATIC, UX.dateThisYear(event.date, event.time))}&nbsp;дн.)</small></p>
                                </div>`
                        case 'large':
                            let [d1, d2] = UX.datePrepare(UX.dateThisYear(event.date, event.time))
                            return `<div onclick="pageCreator.counter(${id})" class="conHA" style="display: flex; flex-direction: row; flex-wrap: nowrap; align-items: center; background: var(--con-color); border-radius: 24px; margin-bottom: 16px; padding: 18px;">
                                <div style="height: 42px; width: 42px;">
                                    ${plutonny.UI.gIcon({
                                        size: 42,
                                        border: 100,
                                        color: event.color,
                                        icon: event.icon,
                                        font: 28
                                    })}
                                </div>
                                <div style="width: 16px;"></div>
                                <p style="font-size: 16px; margin: 0;">${event.nameText}</p>
                                <div style="margin-right: auto;"></div>
                                <p style="font-size: 24px; margin: 0 0 0 8px;">${COUNT.fastPer(d1, d2, event.type)}</p>
                                </div>`
                    }
                    
                },
                header: function(settings) {
                    try {
                        plutonny.output(`header`, `
                            <div class="hdr">
                                <style>
                                    #header {
                                        z-index: 3;
                                        width: 100%;
                                    }
                                    .hdr { 
                                        height: 68px;
                                        display: flex; 
                                        flex-direction: row; 
                                        flex-wrap: nowrap;
                                        align-items: center;
                                    }
                                </style>
                                <div style="height: 38px; width: 38px; z-index: 90; fill: currentColor; margin: 0 0 0 12px; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                    ${settings.buttonBack != 'none' ? 
                                    `<span onclick="${settings.buttonBack}" class="material-symbols-rounded icoGo" style="font-size: 32px !important;">arrow_back</span>` : ''}
                                </div>
                                <div style="margin-right: auto;"></div>
                                <p style="text-align: center; font-size: 32px; margin: 0; z-index: 10;" class="bold" onclick="plutonny.get.eruda()">${settings.textCenter}</p>
                                ${settings.addHeart ? `<div style="width: 8px;"></div>
                                                       <img src="static/emoji/heart.png" height="32px" width="32px">` : ''}
                                <div style="margin-right: auto;"></div>
                                <div style="height: 38px; width: 38px; z-index: 90; fill: currentColor; margin: 0 12px 0 0; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                </div>
                            </div>
                            <hr style="border: none; height: 1px; margin-top: 0; margin-bottom: 0; background-color: var(--text-color); opacity: 0.2; width: calc(100% - 20px);">
                        `)

                        return true

                    } catch (e) { 

                        plutonny.console.error('index.html -> UI.header()', e) 
                        return false

                    }
                }
            }
        </script>

        <!-- counters -->
        <script type="text/javascript">
            var COUNT = {
                fastPer: function(START, END, typeEvent) {
                    if (typeEvent == 'dayInYear' || typeEvent == 'timeInYear') {
                        if ((DYNAMICTIME.getMonth() == START.getMonth()) && (DYNAMICTIME.getDate() == START.getDate())) {
                            return '100&nbsp;%'
                        }
                    }
                    let p = (START - DATESTATIC) / (START - END) * 100
                    return `${(parseFloat(parseInt(p * 10)) % 10) > 7 ? parseInt(p + 1) : parseInt(p)}&nbsp;%`
                },
                fastDay: function(START, END) {
                    return Math.floor(((END - START) / 1000 / 60 / 60 / 24))
                },
                general: {
                    percents: function(START, END, textPROCESS) {
                        let p = END - DYNAMICTIME
                        if (p > 0) {
                            let r   = (END - DYNAMICTIME) / 1000

                            let rd  = Math.floor(r / 60 / 60 / 24)
                                r  -=            rd * 60 * 60 * 24
                            let rh  = Math.floor(r / 60 / 60)
                                r  -=            rh * 60 * 60
                            let rm  = Math.floor(r / 60)
                                r  -=            rm * 60
                            let rs  = Math.floor(r)

                            document.querySelector('#textGeneral').innerHTML = `
                            <p class="bold" style="font-size: 20px; margin: 14px 0 8px 6px;">${textPROCESS}:</p>
                            <p style="margin: 18px 0 0 0; font-size: 14px;">
                                ${plutonny.UI.rus('day', rd)}, 
                                ${plutonny.UI.rus('hour', rh)}, 
                                ${plutonny.UI.rus('minute', rm)},
                                ${plutonny.UI.rus('second', rs)}
                            </p>`

                            let pd100 = (START - DYNAMICTIME) / (START - END) * 100
                            let pm100 = parseFloat(parseInt((pd100 * 1000) + 1)) / 1000

                            document.querySelector('#counterGenPer').innerHTML = `${pm100} %`
                            document.querySelector('#counterGenLine').style.width = `${((document.body.clientWidth - 36 - 48) / 100) * pm100}px`
                        }
                    },
                    week: function(END) {
                        let p = END - DYNAMICTIME
                        if (p > 0) {
                            let r   = (END - DYNAMICTIME) / 1000

                            let cmn = new Date(DYNAMICTIME.getFullYear(), DYNAMICTIME.getMonth() + 1, END.getDate(), END.getHours(), END.getMinutes(), END.getSeconds())
                            let smn = new Date(DYNAMICTIME.getFullYear(), DYNAMICTIME.getMonth(), END.getDate(), END.getHours(), END.getMinutes(), END.getSeconds())
                            let rmm = (cmn - DYNAMICTIME) / (cmn - smn)

                            let rw  = Math.floor((r / 60 / 60 / 24 / 7) * 100) / 100
                            document.querySelector('#weekPer').innerHTML = plutonny.UI.rus('week', rw)
                            document.querySelector('#weekLine').style.width = `${((document.body.clientWidth - 36 - 48) / 100) * Math.floor((rmm % 1)*100)}px`
                            document.querySelector('#dayLine').style.width = `${((document.body.clientWidth - 36 - 48) / 100) * Math.floor((rw % 1)*100)}px`
                        }
                    },
                    day: function(END) {
                        let p = END - DYNAMICTIME
                        if (p > 0) {
                            let r   = (END - DYNAMICTIME) / 1000

                            let rd  = Math.floor((r / 60 / 60 / 24) * 100) / 100
                            document.querySelector('#dayPer').innerHTML = plutonny.UI.rus('day', rd)
                            document.querySelector('#hourLine').style.width = `${((document.body.clientWidth - 36 - 48) / 100) * Math.floor((rd % 1)*100)}px`
                        }

                    },
                    hour: function(END) {
                        let p = END - DYNAMICTIME
                        if (p > 0) {
                            let r   = (END - DYNAMICTIME) / 1000

                            let rh  = Math.floor((r / 60 / 60) * 100) / 100
                            document.querySelector('#hourPer').innerHTML = plutonny.UI.rus('hour', rh)
                            document.querySelector('#minuteLine').style.width = `${((document.body.clientWidth - 36 - 48) / 100) * Math.floor((rh % 1)*100)}px`
                        }

                    },
                    minute: function(END) {
                        let p = END - DYNAMICTIME
                        if (p > 0) {
                            let r   = (END - DYNAMICTIME) / 1000

                            let rm  = Math.floor((r / 60) * 100) / 100
                            document.querySelector('#minutePer').innerHTML = plutonny.UI.rus('minute', rm)
                            document.querySelector('#secondLine').style.width = `${((document.body.clientWidth - 36 - 48) / 100) * Math.floor((rm % 1)*100)}px`
                        }

                    },
                    second: function(END) {
                        let p = END - DYNAMICTIME
                        if (p > 0) {
                            let r   = (END - DYNAMICTIME) / 1000

                            let rs  = Math.floor((r) * 10) / 10
                            document.querySelector('#secondPer').innerHTML = plutonny.UI.rus('second', rs)
                        }

                    }
                }
            }
        </script>

        <!-- serviceWorker -->
        <script type="text/javascript">
            if ('serviceWorker' in navigator) { 
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('/service-worker.js').then(
                        function(registration) { console.log(`serviceWorker: registration with scope ${registration.scope}`) },
                        function(e) { plutonny.console.error('index.html ->', `serviceWorker registration failed: ${e}`) }
                    ).catch(function(e) { plutonny.console.error('index.html ->', `serviceWorker function (${e})`) })
                })
            } else plutonny.console.warn('index.html ->', 'service worker is not supported')
        </script>

    </head>
    <body>

        <noscript style="color: white; font-size: 36px;">включите JavaScript чтобы пользоваться сайтом</noscript>

        <div class="modal" id="modal"></div>

        <div id="genload" class="genload">
            <style>
                .icoGo { display: none; }
            </style>
        </div>

        <div id="pageble" class="pageble">
            <div class="page" id="page">
                <div class="header" id="header">
                    <script>
                        UI.header({
                            textCenter: 'my cat',
                            buttonBack: 'none',
                            addHeart: true
                        })
                    </script>
                </div>
                <div class="content" id="content">
                    <div class="blockGeneral" id="blockGeneral">
                        <div class="lineGeneral" id="lineGeneral"></div>
                        <div class="textGeneral" id="textGeneral"></div>
                    </div>
                    <div style="height: 24px;"></div>
                    <div class="blockAdd" id="blockAdd"></div>
                    <div class="contentOt" id="contentOt"></div>
                </div>
            </div>
        </div>

        <!-- settings functions -->
        <script type="text/javascript">
            function clearCache() {
                caches.delete('v3-mycat-byPlutonny')
                caches.delete('mycat-byPlutonny')
                plutonny.output('CCB', 'успешно')
            }
            function cd() {
                try {
                    navigator.serviceWorker.getRegistrations().then(function(registrations) {
                        for(let registration of registrations) {
                            registration.unregister();
                        } 
                    });
                    caches.delete('v3-mycat-byPlutonny')
                    caches.delete('mycat-byPlutonny')
                    localStorage.clear()
                    sessionStorage.clear()
                }
                catch (e) { plutonny.console.error('index.html -> settings -> cd()', e) }
                plutonny.output('content', `
                <h1 align="center">успешно</h1>
                <p align="center">теперь перезагрузите страницу</p>
                <div style="display: flex; justify-content: center; margin-top: 24px;">
                    <button onclick="location.reload()">перезагрузить</button>
                </div>`)
            }
            function clearData() {
                UX.modal(`
                    <div style="margin: 0 18px; max-height: 95%; overflow-y: auto; background-color: var(--bg-color); border: none; border-radius: 24px; box-shadow: 0px 0px 8px var(--box-shadow-color);">
                        <h1 style="font-family: 'Montserrat' !important; text-align: center; margin: 16px;">уверен?</h1>
                        <div style="display: flex; justify-content: center;">
                            <button style="cursor: pointer; width: 128px; margin: 4px 16px 16px 16px; background-color: #00ff0020;" onclick="document.getElementById('modal').innerHTML = ''; UX.theme()">НЕТ</button>
                            <button style="cursor: pointer; width: 128px; margin: 4px 16px 16px 16px; background-color: #ff000020;" onclick="document.getElementById('modal').innerHTML = ''; UX.theme(); cd()">ДА</button>
                        </div>
                    </div>
                `)
            }
        </script>

        <!-- ANIMATION ENGINE -->
        <script type="text/javascript">
            var animationEngine = {
                transfer: async function(tag) {
                    if (tag == 'home>settings') {
                        document.getElementById('animationEngine').innerHTML += `
                        .contentOt { opacity: 0; }
                        .lineGeneral, .textGeneral { opacity: 0; }`
                        await plutonny.sleep(400)
                        document.getElementById('contentOt').innerHTML = ``
                        document.getElementById('blockGeneral').innerHTML = ``
                        document.getElementById('animationEngine').innerHTML = `.blockGeneral { min-height: 0 !important; }`
                    }
                    if (tag == 'home>counter') {
                        document.querySelector('#textGeneral').style.opacity = 0
                        document.getElementById('animationEngine').innerHTML += `
                        .contentOt { opacity: 0; }
                        .yearLine, .textGeneral { opacity: 0; }`
                        await plutonny.sleep(400)
                        document.getElementById('contentOt').innerHTML = ``
                        document.getElementById('textGeneral').innerHTML = ``
                    }
                },
                Rop0: async function(tag) {
                    if (tag == 'homeAll') {
                        document.getElementById('animationEngine').innerHTML += `.yearLine, .contentOt, .textGeneral { display: inherit !important; }`
                        await plutonny.sleep(400)
                        document.getElementById('animationEngine').innerHTML = `.yearLine, .contentOt, .textGeneral { opacity: 1; }`
                    } else if (tag == 'counterAddAll') {
                        document.getElementById('animationEngine').innerHTML += `.weekBlock, .dayBlock, .hourBlock, .minuteBlock, .secondBlock { display: inherit !important; }`
                        await plutonny.sleep(400)
                        document.getElementById('animationEngine').innerHTML += `.weekBlock, .dayBlock, .hourBlock, .minuteBlock, .secondBlock { opacity: 1 !important; }`
                    } else
                        document.getElementById('animationEngine').innerHTML += `.${tag} { opacity: 1 !important; }`
                },
                op0: async function(tag) {
                    if (tag == 'homeAll') {
                        document.getElementById('animationEngine').innerHTML += `.yearLine, .contentOt, .textGeneral { opacity: 0 !important; display: none; }`
                    } else if (tag == 'counterAddAll') {
                        document.getElementById('animationEngine').innerHTML += `.weekBlock, .dayBlock, .hourBlock, .minuteBlock, .secondBlock { opacity: 0 !important; }`
                    } else
                        document.getElementById('animationEngine').innerHTML += `.${tag} { opacity: 0; }`
                },
                width: async function(tag, width) {
                    document.getElementById('animationEngine').innerHTML += `.${tag} { width: ${width}; }`
                },
                height: async function(tag, height) {
                    document.getElementById('animationEngine').innerHTML += `.${tag} { height: ${height}; }`
                },
                RESTORE: function() {
                    document.getElementById('animationEngine').innerHTML = ``
                }
            }
        </script>

        <!-- PAGE CREATOR -->
        <script type="text/javascript">
            var ND = null
            var GP = null
            var AW = null
            var AD = null
            var AH = null
            var AM = null
            var AS = null
            var pageCreator = {
                firstLoad: async function() {
                    animationEngine.op0('homeAll')
                    let j1 = new Date(DATESTATIC.getFullYear(), 0, 1), d3 = new Date(DATESTATIC.getFullYear(), 11, 31, 23, 59, 59)
                    let yearP = 0
                    if (document.documentElement.clientWidth <= 540) {
                        yearP = (document.documentElement.clientWidth - 94) * ((j1 - DATESTATIC) / (j1 - d3))
                    } else { 
                        yearP = ((440 - 94) * ((j1 - DATESTATIC) / (j1 - d3)))
                    }
                    plutonny.output('lineGeneral', `
                    <div class="yearLine" style="background: var(--line-general); height: 100%; width: 100%;">
                        <div style="position: absolute; background: var(--con-color); height: 60px; padding: 0 3px; margin-top: -6px; margin-left: ${yearP}px;">
                            <div style="background: var(--text-color); height: 60px; width: 4px; border-radius: 100px;"></div>
                        </div>
                    </div>
                    `)
                    fetch(`/DBCOUNT.json?t=${DATESTATIC.getTime()}`).then(function (response) { return response.json() }).then(async function (counters) {
                        let dbc = [], dbd = []
                        for (let i = 1; i <= counters.count; i++) {
                            let cd = new Date(`${DATESTATIC.getFullYear()}-${counters[i].date}`)
                            if ((cd - DATESTATIC) > 0) dbc.push([i, cd.getTime()])
                        }
                        for (let i in dbc) dbd.push(dbc[i][1])
                        let fastestEvent = dbc[dbd.indexOf(Math.min(...dbd))][0]
                        plutonny.output('textGeneral', `
                        <p class="bold" style="font-size: 20px; margin: 14px 0 8px 0;">ближайшее событие:</p>
                        ${UI.event('small', counters[fastestEvent])}
                        `)
                        document.querySelector('#textGeneral').style.opacity = 1
                        let injEvent = ''
                        for (let i = 1; i <= counters.count; i++) injEvent += UI.event('large', counters[i], i)
                        plutonny.output('contentOt', `
                        <p class="bold" style="font-size: 32px; margin: 0; padding-left: 6px;">все события:</p>
                        <div style="height: 24px;"></div>
                        ${injEvent}
                        <div class="conHA" onclick="pageCreator.settings()" style="background: var(--con-color); height: 32px; border-radius: 100px; margin-top: 16px; display: flex; justify-content: center; align-items: center;">
                            <p style="margin: 0;">настройки</p>
                        </div>
                        `)
                        await plutonny.sleep(400)
                        animationEngine.Rop0('homeAll')
                        animationEngine.Rop0('lineGeneral')
                    }).catch(function (err) { plutonny.console.error('index.html -> pageCreator(home) -> JSON (DBCOUNT)', err) })
                },
                counter: async function(id) {
                    UI.header({
                        textCenter: 'my cat',
                        buttonBack: `pageCreator.fCHome()`,
                        addHeart: true
                    })
                    animationEngine.transfer('home>counter')
                    await plutonny.sleep(400)
                    plutonny.output('lineGeneral', `
                    <style>.lineGeneral { display: flex; align-items: center; }</style>
                    <div id="counterGenLine" class="counterGenLine" style="background: var(--line-${SEASON}); border-radius: 100px; height: 100%; width: 0px;"></div>
                    <p id="counterGenPer" class="counterGenPer bold" style="position: absolute; font-size: 28px; width: calc(100vw - 48px); text-align: center; margin: 0;"></p>
                    `)
                    animationEngine.height('blockAdd', '225px !important')
                    plutonny.output('blockAdd', `
                    <style>.blockAdd { padding: 18px; }</style>
                    <p class="bold" style="margin: 0 0 12px 6px; font-size: 24px;">или:</p>
                    <div class="weekBlock" style="opacity: 0; height: 24px; width: 100%; border-radius: 100px; overflow: hidden; display: flex !important; align-items: center; background: var(--line-general-color);">
                        <div id="weekLine" class="weekLine" style="width: 0px; height: 24px; border-radius: 100px; background: var(--line-${SEASON});"></div>
                        <p id="weekPer" class="weekPer" style="position: absolute; font-size: 18px; width: calc(100vw - 48px); text-align: center; margin: 0;"></p>
                    </div>
                    <div style="height: 16px;"></div>
                    <div class="dayBlock" style="opacity: 0; height: 24px; width: 100%; border-radius: 100px; overflow: hidden; display: flex !important; align-items: center; background: var(--line-general-color);">
                        <div id="dayLine" class="dayLine" style="width: 0px; height: 24px; border-radius: 100px; background: var(--line-${SEASON});"></div>
                        <p id="dayPer" class="dayPer" style="position: absolute; font-size: 18px; width: calc(100vw - 48px); text-align: center; margin: 0;"></p>
                    </div>
                    <div style="height: 16px;"></div>
                    <div class="hourBlock" style="opacity: 0; height: 24px; width: 100%; border-radius: 100px; overflow: hidden; display: flex !important; align-items: center; background: var(--line-general-color);">
                        <div id="hourLine" class="hourLine" style="width: 0px; height: 24px; border-radius: 100px; background: var(--line-${SEASON});"></div>
                        <p id="hourPer" class="hourPer" style="position: absolute; font-size: 18px; width: calc(100vw - 48px); text-align: center; margin: 0;"></p>
                    </div>
                    <div style="height: 16px;"></div>
                    <div class="minuteBlock" style="opacity: 0; height: 24px; width: 100%; border-radius: 100px; overflow: hidden; display: flex !important; align-items: center; background: var(--line-general-color);">
                        <div id="minuteLine" class="minuteLine" style="width: 0px; height: 24px; border-radius: 100px; background: var(--line-${SEASON});"></div>
                        <p id="minutePer" class="minutePer" style="position: absolute; font-size: 18px; width: calc(100vw - 48px); text-align: center; margin: 0;"></p>
                    </div>
                    <div style="height: 16px;"></div>
                    <div class="secondBlock" style="opacity: 0; height: 24px; width: 100%; border-radius: 100px; overflow: hidden; display: flex !important; align-items: center; background: var(--line-general-color);">
                        <div id="secondLine" class="secondLine" style="width: 0px; height: 24px; border-radius: 100px; background: var(--line-${SEASON});"></div>
                        <p id="secondPer" class="secondPer" style="position: absolute; font-size: 18px; width: calc(100vw - 48px); text-align: center; margin: 0;"></p>
                    </div>
                    `)
                    animationEngine.Rop0('counterAddAll')
                    animationEngine.width('counterGenPer', 'calc(100vw - 36px - 48px) !important')
                    animationEngine.width('weekPer', 'calc(100vw - 36px - 48px) !important')
                    animationEngine.width('dayPer', 'calc(100vw - 36px - 48px) !important')
                    animationEngine.width('hourPer', 'calc(100vw - 36px - 48px) !important')
                    animationEngine.width('minutePer', 'calc(100vw - 36px - 48px) !important')
                    animationEngine.width('secondPer', 'calc(100vw - 36px - 48px) !important')
                    fetch(`/DBCOUNT.json?t=${DATESTATIC.getTime()}`).then(function (response) { return response.json() }).then(async function (counters) {
                        if (counters[id].type == 'dayInYear') {
                            DYNAMICTIME = new Date()
                            let [d1, d2] = UX.datePrepare(UX.dateThisYear(counters[id].date, counters[id].time))
                            if ((DYNAMICTIME.getMonth() == d1.getMonth()) && (DYNAMICTIME.getDate() == d1.getDate())) {
                                document.querySelector('#counterGenLine').style.width = '100%'
                                document.querySelector('#counterGenPer').innerHTML = '100 %'
                                animationEngine.op0('blockAdd')
                                await plutonny.sleep(200)
                                animationEngine.height('blockGeneral', '253px !important')
                                animationEngine.height('blockAdd', '0px !important')
                                await plutonny.sleep(100)
                                document.querySelector('#textGeneral').style.opacity = 0
                                await plutonny.sleep(400)
                                plutonny.output('textGeneral', `
                                <div style="display: flex; align-items: center; flex-direction: column;">
                                    <img src="/static/emoji/party.png" style="height: 120px; width: 120px; padding: 28px;">
                                    <p class="bold" style="margin: 0; font-size: 24px;">${counters[id].endText}</p>
                                </div>
                                `)
                                document.querySelector('#textGeneral').style.opacity = 1
                                return
                            }
                            COUNT.general.percents(d1, d2, counters[id].processText)
                            document.querySelector('#textGeneral').style.opacity = 1
                            await plutonny.sleep(400)
                            COUNT.general.week(d2); await plutonny.sleep(50)
                            COUNT.general.day(d2); await plutonny.sleep(50)
                            COUNT.general.hour(d2); await plutonny.sleep(50)
                            COUNT.general.minute(d2); await plutonny.sleep(50)
                            COUNT.general.second(d2)

                            ND = setInterval(function() { DYNAMICTIME = new Date() }, 100)
                            GP = setInterval(function() { COUNT.general.percents(d1, d2, counters[id].processText) }, 100)
                            AW = setInterval(function() { COUNT.general.week(d2) }, 1000)
                            AD = setInterval(function() { COUNT.general.day(d2) }, 1000)
                            AH = setInterval(function() { COUNT.general.hour(d2) }, 1000)
                            AM = setInterval(function() { COUNT.general.minute(d2) }, 300)
                            AS = setInterval(function() { COUNT.general.second(d2) }, 50)
                        }
                        if (counters[id].type == 'timeInYear') {
                            DYNAMICTIME = new Date()
                            let [d1, d2] = UX.datePrepare(UX.dateThisYear(counters[id].date, counters[id].time))
                            let d3 = UX.dateThisYear(counters[id].date, counters[id].time)
                            if ((DYNAMICTIME.getMonth() == d1.getMonth()) && (DYNAMICTIME.getDate() == d1.getDate()) && DATESTATIC >= d3) {
                                document.querySelector('#counterGenLine').style.width = '100%'
                                document.querySelector('#counterGenPer').innerHTML = '100 %'
                                animationEngine.op0('blockAdd')
                                await plutonny.sleep(200)
                                animationEngine.height('blockGeneral', '253px !important')
                                animationEngine.height('blockAdd', '0px !important')
                                await plutonny.sleep(100)
                                document.querySelector('#textGeneral').style.opacity = 0
                                await plutonny.sleep(400)
                                plutonny.output('textGeneral', `
                                <div style="display: flex; align-items: center; flex-direction: column;">
                                    <img src="/static/emoji/party.png" style="height: 120px; width: 120px; padding: 28px;">
                                    <p class="bold" style="margin: 0; font-size: 24px;">${counters[id].endText}</p>
                                </div>
                                `)
                                document.querySelector('#textGeneral').style.opacity = 1
                                return
                            }
                            COUNT.general.percents(d1, d2, counters[id].processText)
                            document.querySelector('#textGeneral').style.opacity = 1
                            await plutonny.sleep(400)
                            COUNT.general.week(d2); await plutonny.sleep(50)
                            COUNT.general.day(d2); await plutonny.sleep(50)
                            COUNT.general.hour(d2); await plutonny.sleep(50)
                            COUNT.general.minute(d2); await plutonny.sleep(50)
                            COUNT.general.second(d2)

                            ND = setInterval(function() { DYNAMICTIME = new Date() }, 100)
                            GP = setInterval(function() { COUNT.general.percents(d1, d2, counters[id].processText) }, 100)
                            AW = setInterval(function() { COUNT.general.week(d2) }, 1000)
                            AD = setInterval(function() { COUNT.general.day(d2) }, 1000)
                            AH = setInterval(function() { COUNT.general.hour(d2) }, 1000)
                            AM = setInterval(function() { COUNT.general.minute(d2) }, 300)
                            AS = setInterval(function() { COUNT.general.second(d2) }, 50)
                        }
                    }).catch(function (err) { plutonny.console.error('index.html -> pageCreator(counter) -> JSON (DBCOUNT)', err) })
                },
                settings: async function() {
                    UI.header({
                        textCenter: `v${siteVersion}(${siteBuild})`,
                        buttonBack: `pageCreator.fSHome()`,
                        addHeart: false
                    })
                    document.querySelector('#textGeneral').style.opacity = 0
                    await animationEngine.transfer('home>settings')
                    plutonny.output('blockGeneral', `
                    <div class="blockSettings" style="opacity: 0;">
                        <div class="BconHA" id="CCB" onclick="clearCache()" style="background: var(--button-con-color); border-radius: 100px; height: 32px; display: flex; align-items: center; justify-content: center;">удалить кэш</div>    
                        <div style="height: 18px;"></div>
                        <div class="BconHA" onclick="clearData()" style="background: var(--button-con-color); border-radius: 100px; height: 32px; display: flex; align-items: center; justify-content: center;">удалить все данные</div>    
                    </div>
                    `)
                    await plutonny.sleep(100)
                    animationEngine.Rop0('blockSettings')
                },
                fSHome: async function() {
                    UI.header({
                        textCenter: 'my cat',
                        buttonBack: 'none',
                        addHeart: true
                    })
                    animationEngine.RESTORE()
                    animationEngine.op0('lineGeneral')
                    await plutonny.sleep(300)
                    plutonny.output('blockGeneral', `
                        <div class="lineGeneral" id="lineGeneral"></div>
                        <div class="textGeneral" id="textGeneral"></div>
                    `)
                    pageCreator.firstLoad()
                },
                fCHome: async function() {
                    UI.header({
                        textCenter: 'my cat',
                        buttonBack: 'none',
                        addHeart: true
                    })
                    clearInterval(ND)
                    clearInterval(GP)
                    clearInterval(AW)
                    clearInterval(AD)
                    clearInterval(AH)
                    clearInterval(AM)
                    clearInterval(AS)
                    document.querySelector('#textGeneral').style.opacity = 0
                    animationEngine.op0('counterAddAll')
                    animationEngine.op0('counterGenPer')
                    animationEngine.width('counterGenLine', '0px !important')
                    await plutonny.sleep(30)
                    animationEngine.width('weekLine', '0px !important')
                    await plutonny.sleep(30)
                    animationEngine.width('dayLine', '0px !important')
                    await plutonny.sleep(30)
                    animationEngine.width('hourLine', '0px !important')
                    await plutonny.sleep(30)
                    animationEngine.width('minuteLine', '0px !important')
                    await plutonny.sleep(30)
                    animationEngine.width('secondLine', '0px !important')
                    await plutonny.sleep(100)
                    animationEngine.op0('blockAdd')
                    await plutonny.sleep(100)
                    animationEngine.height('blockAdd', '0px !important')
                    await plutonny.sleep(100)
                    plutonny.output('blockAdd', ``)
                    animationEngine.RESTORE()
                    pageCreator.firstLoad()
                }
            }
            pageCreator.firstLoad()
        </script>

    </body>
</html>